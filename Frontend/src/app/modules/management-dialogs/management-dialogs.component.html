<es-add-stream
  *ngIf="addNodesStream"
  [nodes]="addNodesStream"
  (onLoading)="globalProgress = $event"
  (onCancel)="closeStream()"
  (onDone)="closeStream()"
></es-add-stream>
<es-signup-group
  *ngIf="signupGroup"
  (onCancel)="signupGroup = false; signupGroupChange.emit(false)"
>
</es-signup-group>
<es-workspace-metadata
  *ngIf="nodeSidebar"
  [@fromRight]="nodeSidebar"
  class="metadata-sidebar"
  [node]="nodeSidebar"
  (onRestore)="restoreVersion($event)"
  (onDisplay)="displayNode($event)"
  (onEditMetadata)="openMdsEditor([$event])"
  (onClose)="closeSidebar()"
></es-workspace-metadata>
<es-simple-edit-dialog
  *ngIf="_nodeSimpleEdit"
  [nodes]="_nodeSimpleEdit"
  [fromUpload]="_nodeFromUpload"
  (onOpenMetadata)="reopenSimpleEdit = true; openMdsEditor($event)"
  (onOpenInvite)="reopenSimpleEdit = true; openShareDialog($event)"
  (onOpenLicense)="reopenSimpleEdit = true; openLicenseDialog($event)"
  (onClose)="closeSimpleEdit($event)"
></es-simple-edit-dialog>
<es-view-material-feedback
  *ngIf="materialViewFeedback"
  [node]="materialViewFeedback"
  (onClose)="closeMaterialViewFeedback()"
></es-view-material-feedback>
<es-collections-manage-pinning
  *ngIf="addPinnedCollection"
  [addCollection]="addPinnedCollection"
  (onClose)="closePinnedCollection()"
></es-collections-manage-pinning>
<!-- <es-card
        *ngIf="qr"
        [node]="qr.node"
        [isCancelable]="true"
        title="{{ 'OPTIONS.QR_CODE' | translate }}"
        (onCancel)="qr=null"
        class="qr-link-card"
        width="xlarge"
        height="xxxlarge">
    <qrcode [qrdata]="qr.data" elementType="img" [margin]="2" [width]="512" errorCorrectionLevel="M"></qrcode>
</es-card> -->
<es-workspace-workflow
  *ngIf="nodeWorkflow"
  [nodes]="nodeWorkflow"
  (onLoading)="globalProgress = $event"
  (onDone)="closeWorkflow($event)"
  (onClose)="closeWorkflow()"
></es-workspace-workflow>
<es-node-variant
  *ngIf="nodeVariant"
  [node]="nodeVariant"
  (onLoading)="globalProgress = $event"
  (onCancel)="closeVariant()"
  (onDone)="closeVariant()"
></es-node-variant>
<es-collection-chooser
  class="dialog-right"
  *ngIf="addToCollection"
  [@fromRight]="addToCollection"
  [title]="'WORKSPACE.SELECT_COLLECTION'"
  (onCancel)="cancelAddToCollection()"
  (onDrop)="addToCollectionList($event.target, $event.source, false)"
  (onCreateCollection)="addToCollectionCreate($event)"
  (onChoose)="addToCollectionList($event)"
>
  <ng-template #beforeRecent let-currentRoot>
    <ng-container
      *ngTemplateOutlet="collectionChooserBeforeRecentRef; context: { $implicit: currentRoot }"
    ></ng-container>
  </ng-template>
</es-collection-chooser>

<es-workspace-file-upload
  *ngIf="filesToUpload"
  [current]="parent"
  [files]="filesToUpload"
  (onDone)="uploadDone($event)"
></es-workspace-file-upload>
<es-workspace-file-upload-select
  *ngIf="showUploadSelect"
  [isFileOver]="fileIsOver"
  [(parent)]="parent"
  [showPicker]="uploadShowPicker"
  [multiple]="uploadMultiple"
  (onCancel)="cancelUploadSelect()"
  (onFileSelected)="uploadFile($event)"
  (onLinkSelected)="createUrlLink($event)"
></es-workspace-file-upload-select>
